<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:p="http://primefaces.org/ui"
				xmlns:b="http://bootsfaces.net/ui"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				template="/WEB-INF/templates/tpl_oaf.xhtml">
	<ui:define name="content" bootsFacesDecorator="true">
		<link type="text/css" rel="stylesheet" href="#{resource['css/table_list.css']}" />
		<h:form>
			<h:inputHidden id="tenantRoleId" value="#{tenantRoleAssociationManager.tenantRole.id}"/>
			<b:container>
				<b:row>
					<h:panelGroup layout="block" styleClass="headerInformation">
						<h1><h:outputText value="#{msg.rd_tenant} #{msg.rd_roles} #{msg.associations}"/></h1>
						<hr />
					</h:panelGroup>
				</b:row>
				<b:column>
					<b:tabView activeIndex="#{tenantRoleAssociationManager.tabIndex}">
						<b:tab title="Tenant Role">
							<b:container>
								<b:row><h1/></b:row>
								<b:row>
									<b:column medium-screen="2">
										<h:outputLabel value="#{msg.rd_tenant}"/>
									</b:column>
									<b:column mediumScreen="4">
										<p:autoComplete id="autoCompletForTenantToBeAssociated"
														value="#{tenantRoleAssociationManager.tenant}"
														var="selectedTenant" itemValue="${selectedTenant}"
														itemLabel="${selectedTenant.name}"
														converter="#{tenantConverter}"
														completeMethod="#{entityFilterUtil.filterTenantsByName}"
														label="#{msg.rd_tenant}"
														emptyMessage="#{msg.rd_tenants_not_found}"
														size="50" placeholder="#{msg.rd_tenant_placeholder}"
														required="true" requiredMessage="#{msg.rd_tenant_is_mandatory}"
														effect="fade" dropdown="true" forceSelection="true"
														styleClass="p-field p-col-12 p-md-4"/>
									</b:column>
								</b:row>
								<b:row><h1/></b:row>
								<b:row>
									<b:column medium-screen="2">
										<h:outputLabel value="#{msg.rd_role}"/>
									</b:column>
									<b:column mediumScreen="4">
										<p:autoComplete id="autoCompletForRoleToBeAssociated"
														value="#{tenantRoleAssociationManager.role}"
														var="selectedRole" itemValue="${selectedRole}"
														itemLabel="${selectedRole.name}"
														converter="#{roleConverter}"
														completeMethod="#{entityFilterUtil.filterRolesByName}"
														label="#{msg.rd_role}"
														emptyMessage="#{msg.rd_roles_not_found}"
														size="50" placeholder="#{msg.rd_role_placeholder}"
														required="true" requiredMessage="#{msg.rd_role_is_mandatory}"
														effect="fade" dropdown="true" forceSelection="true"
														styleClass="p-field p-col-12 p-md-4"/>
									</b:column>
								</b:row>
								<b:row><h1/></b:row>
							</b:container>
							<b:buttonGroup>
								<b:commandButton id="cancelTenantRoleAssociation"
												 value="#{msg.rd_cancel_association}"
												 tooltip="#{msg.returnToRecordList}"
												 iconAwesome="fa-home"
												 immediate="true"
												 action="tenantroles"/>

								<b:commandButton id="saveTenantRoleAssociation"
												 value="#{msg.save}"
												 tooltip="#{msg.save}"
												 iconAwesome="fa-save"
												 action="#{tenantRoleAssociationManager.associateTenantRole}"/>
							</b:buttonGroup>
						</b:tab>

						<b:tab id="tabForPermissionAssigment" title="#{msg.rd_permissions}"
							   rendered="#{tenantRoleAssociationManager.existsTenantRoleCreated}">
							<p>${msg.rd_tenant_role_permission_assigment}</p>
						</b:tab>

						<b:tab id="tabForUserAssigment" title="#{msg.rd_users}"
							   rendered="#{tenantRoleAssociationManager.existsTenantRoleCreated}">
							<p>${msg.rd_tenant_role_user_assigment}</p>
						</b:tab>

					</b:tabView>
				</b:column>
			</b:container>
		</h:form>
	</ui:define>
</ui:composition>